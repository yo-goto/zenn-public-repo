---
title: "fishã‚³ãƒãƒ³ãƒ‰ã®æ©Ÿèƒ½çš„ãªåˆ†é¡"
emoji: "ğŸ„ğŸ»â€â™‚ï¸"
type: "tech"
topics: [fish, shell, åˆå¿ƒè€…]
published: true
date: 2022-03-15
url: "https://zenn.dev/estra/articles/zenn-fish-typeof-commands"
aliases: [è¨˜äº‹_fishã‚³ãƒãƒ³ãƒ‰ã®æ©Ÿèƒ½çš„ãªåˆ†é¡]
tags: " #type/zenn #shell/fish/command  "
---

# ã¯ã˜ã‚ã«
https://github.com/fish-shell/fish-shell/releases/tag/3.4.0

æ—¥æœ¬æ™‚é–“ã® 2022/03/13 ã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ `fish v3.4.0` ã¨åˆã‚ã›ã¦[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚³ãƒãƒ³ãƒ‰ãƒªã‚¹ãƒˆãƒšãƒ¼ã‚¸](https://fishshell.com/docs/current/commands.html)ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚
fish ãŒæä¾›ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ†ã‘ãŒéå¸¸ã«åˆ†ã‹ã‚Šã‚„ã™ããªã£ãŸãŸã‚ã€ãã®å†…å®¹ã«ã¤ã„ã¦èª¬æ˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

:::message
ã“ã®è¨˜äº‹ã®æƒ³å®šèª­è€…ã¯æ¬¡ã®æ–¹ã§ã™ã€‚
- fish shell åˆå¿ƒè€…ã®äºº
- ã‚³ãƒãƒ³ãƒ‰ã‚’ãªã‚“ã¨ãªãä½¿ã£ã¦ã„ã‚‹äºº
:::

# åˆ†é¡ã®ä»•æ–¹
ã¾ãšã€Œã‚³ãƒãƒ³ãƒ‰ã€ã¨è¨€ã£ã¦ã‚‚ã€fish ã§ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿéš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚‚ã®ã«ã¯ã„ãã¤ã‹ç¨®é¡ãŒã‚ã‚Šã¾ã™ã€‚

```shell:ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³
$ cd $HOME
# å‘¼ã³å‡ºã•ã‚Œã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ `cd` ã‚³ãƒãƒ³ãƒ‰ã¯ã„ãã¤ã‹ã‚ã‚‹
```

ãã‚Œã‚‰ã¯æ¬¡ã®ï¼“ã¤ã«åˆ†é¡ã§ãã¾ã™ã€‚

- Function (é–¢æ•°)
- Builtin (ãƒ“ãƒ«ãƒˆã‚¤ãƒ³)
- External command (å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰)

ä»¥å‰ã€ã“ã‚Œã‚‰ã®é•ã„ã‚„å®Ÿä½“ã«ã¤ã„ã¦ã®è©³ã—ã„è§£èª¬è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚

https://zenn.dev/estra/articles/zenn-what-is-command

ã“ã®ã€Œé–¢æ•°ãƒ»ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€ã¨ã„ã†åˆ†é¡ã¯ã€ã‚·ã‚§ãƒ«ã«ãŠã‘ã‚‹**ã‚³ãƒãƒ³ãƒ‰æ¦‚å¿µã®å…¨ä½“åƒ**ã‚’æ´ã‚“ã ã‚Šãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚’ã—ãŸã‚Šã™ã‚‹ä¸Šã§ã¯å½¹ç«‹ã¡ã¾ã™ãŒã€åˆå¿ƒè€…ã«ã¨ã£ã¦ã¯å®Ÿç”¨ä¸Šãã“ã¾ã§é‡è¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã‚³ãƒãƒ³ãƒ‰ã¯ CLI ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¡Œã„ãŸã„ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã‚’é‚è¡Œã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã‹ã‚‰ã€ä¸Šè¨˜ã®ã‚ˆã†ãªåˆ†é¡ã‚ˆã‚Šã‚‚æ©Ÿèƒ½ã”ã¨ã®åˆ†é¡ã«ã¤ã„ã¦çŸ¥ã£ã¦ãŠã„ãŸæ–¹ãŒå½¹ç«‹ã¤å ´é¢ã¯å¤šã„ã¯ãšã§ã™ã€‚ã¾ãŸã€bash ã‚„ zsh ãªã©ã®ä»–ã®ã‚·ã‚§ãƒ«ã§ã‚‚åŒæ§˜ã®ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ã‚³ãƒãƒ³ãƒ‰ã¯ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ä»–ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å†…å®¹ã‚’é¡æ¨ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚

# æ©Ÿèƒ½åˆ†é¡
ã¨ã„ã†ã“ã¨ã§ã€ä»Šå›ã¯ fish ã®ã‚³ãƒãƒ³ãƒ‰ã‚’**æ©Ÿèƒ½çš„ãªé¢**ã‹ã‚‰åˆ†é¡ã—ã¦è§£èª¬ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
ã¨è¨€ã£ã¦ã‚‚ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã»ã¼ãã®ã¾ã¾å‚è€ƒã«ã—ã¦ã„ã¾ã™ã®ã§ã€å‚è€ƒå…ƒã‚’è¦‹ãŸã„æ–¹ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€æ‰€ã€…è£œã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚„åˆ†ã‹ã‚Šã‚„ã™ã„è¨€è‘‰ã§ç½®ãæ›ãˆã¦ã‚ã‚‹ç®‡æ‰€ãŒã„ãã¤ã‹ã‚ã‚‹ã®ã§æ­£ç¢ºãªå†…å®¹ã«ã¤ã„ã¦ã‚‚ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://fishshell.com/docs/current/commands.html

â€» è§£èª¬ã™ã‚‹ã‚«ãƒ†ã‚´ãƒªã®ä¸­ã«å«ã¾ã‚Œã¦ã„ãªã„ã‚³ãƒãƒ³ãƒ‰ã‚‚ã‚ã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ–¹ "full list" ã®é …ç›®ã«ã¯ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚

å®Ÿéš›ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ©Ÿèƒ½åˆ†é¡ã§èª¬æ˜ã—ã¾ã™ã€‚å‚ç…§å…ƒã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒšãƒ¼ã‚¸ã¨åŒã˜é †ç•ªã§è§£èª¬ã—ã¾ã™ãŒã€åˆå¿ƒè€…ã®æ–¹ã¯ã€Œ**ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ãƒ„ãƒ¼ãƒ«**ã€ã‹ã‚‰è¦šãˆã¦ã„ãã®ãŒè‰¯ã„ã‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚

- ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ãƒ„ãƒ¼ãƒ«
- ã‚·ã‚§ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç”¨é–¢æ•°
- è£œåŠ©é–¢æ•°
- è£œåŠ©å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰

## ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
å‚ç…§å…ƒ: [Keywords](https://fishshell.com/docs/current/commands.html#keywords)

ä»¥ä¸‹ã®ã‚‚ã®ã¯ fish ã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ã‚³ã‚¢ã®è¨€èªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã™ã€‚ã‚‚ã¡ã‚ã‚“ã™ã¹ã¦ã‚³ãƒãƒ³ãƒ‰ã§ã™ãŒã€ã“ã‚Œã‚‰ã¯ã€Œãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã€ã«å±ã™ã‚‹ã‚‚ã®ã§ã™ã€‚

- æ¡ä»¶åˆ†å²: `if`, `else`
- ãƒ«ãƒ¼ãƒ—æ§‹ç¯‰: `for`, `while` 
- ãƒ«ãƒ¼ãƒ—åˆ¶å¾¡: `break`, `continue`
- é–¢æ•°å®šç¾©: `function`
- é–¢æ•°ã‹ã‚‰ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¿”å´: `return`
- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®é–‹å§‹ã¨çµ‚äº†: `begin`, `end`
- ã‚³ãƒãƒ³ãƒ‰ã®è«–ç†çš„çµåˆ: `and`, `or`, `not`
- å¤‰æ•°ã®å€¤ã«åŸºã¥ã„ãŸè¤‡æ•°ã®ãƒ–ãƒ­ãƒƒã‚¯ä½œæˆ: `switch`, `case`

ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã¯æ‹¡å¼µå­ `.fish` ã§çµ‚ã‚ã‚‹ã‚¹ãƒ‹ãƒšãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã§ã€Œé–¢æ•°ã€ã‚’å®šç¾©ã™ã‚‹éš›ã«ãã‚Œãã‚Œçµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å˜ä½“ã§å…¥åŠ›ã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©ç„¡ã„ã§ã—ã‚‡ã†ã€‚

```shell:mytest.fish
# é–¢æ•° `mytest` ã‚’å®šç¾©ã™ã‚‹
function mytest -d "This is a test function"
    # æ¡ä»¶åˆ†å²ã‚’ä½œæˆã™ã‚‹
    if test (count $argv) -eq 0
        # ã‚³ãƒãƒ³ãƒ‰ã®è«–ç†çš„ãªçµåˆã‚’è¡Œã†
        echo "Pass arguments"
        and return 1
        # é–¢æ•°ã‹ã‚‰ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¿”å´ã™ã‚‹
    else
        echo "You typed..." $argv
    end
    
    echo "By the way..."
    echo "A new loop starts!"
    # ãƒ«ãƒ¼ãƒ—ã‚’æ§‹ç¯‰ã™ã‚‹
    while true
        read -l -P "Do you wanna exit? [Y/n]: " key
        # å€¤ã«åŸºã¥ã„ãŸè¤‡æ•°ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹
        switch "$key"
            case Y y yes
                echo "Exit the loop"
                # ãƒ«ãƒ¼ãƒ—ã‚’åˆ¶å¾¡ã™ã‚‹(ãƒ«ãƒ¼ãƒ—ã‹ã‚‰æŠœã‘ã‚‹)
                break
            case '*'
                echo "This loop is going on..."
        end
    end

    # ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½œæˆã™ã‚‹(ã“ã“ã§ã¯ç‰¹ã«æ„å‘³ã¯ãªã„)
    begin 
        echo "This function ends"
    end
end
```

ã“ã‚Œã‚’ `~/.config/fish/mytest.fish` ã«å®šç¾©ã™ã‚Œã°ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ `mytest` é–¢æ•°ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```sh:ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³
â¯ mytest one two three
You typed... one two three
By the way...
A new loop starts!
Do you wanna exit? [Y/n]: y
Exit the loop
This function ends
```

é–¢æ•°ã®å…·ä½“çš„ãªä½œæˆæ–¹æ³•ã«ã¤ã„ã¦ã¯ã€ä»¥å‰ã«æ›¸ã„ãŸæ¬¡ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

https://zenn.dev/estra/articles/google-search-from-fish-shell

## ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
å‚ç…§å…ƒ: [Decorations](https://fishshell.com/docs/current/commands.html#decorations)

ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ä»–ã®ã‚³ãƒãƒ³ãƒ‰ã®å‰ã«ä»˜ã‘ã‚‹ã“ã¨ã§ãã®ã‚³ãƒãƒ³ãƒ‰ã®æŒ¯ã‚‹èˆã„ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚‚ã®ã¯ã™ã¹ã¦ã€Œãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã€ã«å±ã—ã¾ã™ã€‚

- ã©ã®ç¨®é¡ã®ã‚‚ã®ã‚’å®Ÿè¡Œã™ã‚‹ã‹ä¼ãˆã‚‹: `command`, `builtin`
- å®Ÿè¡Œæ™‚é–“ã‚’æ±ºã‚ã‚‹: `time`
- ç¾åœ¨ã®ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã§ç½®ãæ›ãˆã‚‹ `exec`

ä¾‹ãˆã°ã€`cd` ã‚’ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```shell:cdã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
# ä½•ã‚‚ã¤ã‘ãªã„ã¨é€šå¸¸ã¯ function ã® cd ãŒä½¿ç”¨ã•ã‚Œã‚‹
$ cd ../
# builtin ã® cd ã‚’ä½¿ç”¨
$ builtin cd ../
# exteranl command ã® cd ã‚’ä½¿ç”¨
$ command cd ../
```

å¿œç”¨çš„ãªè©±ã«ãªã‚Šã¾ã™ãŒã€fish ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã§ã¯ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç’°å¢ƒã§ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚„é–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ãŸå ´åˆã«å‚™ãˆã¦ã€ã“ã‚Œã‚‰ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ç¢ºå®Ÿã«ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚„å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ã¨ã„ã†ã“ã¨ã‚’ã‚„ã‚Šã¾ã™ã€‚ã“ã®ã‚±ãƒ¼ã‚¹ã«ã¤ã„ã¦ã¯ã€æ¬¡ã®è¨˜äº‹ã§å®Ÿéš›ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œã£ãŸéš›ã®ä¾‹ã¨ã—ã¦ç´¹ä»‹ã—ã¦ã„ã‚‹ã®ã§èˆˆå‘³ãŒã‚ã‚Œã°è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚

https://zenn.dev/estra/articles/zenn-source-fish-plugin

`exec $SHELL -l` ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚·ã‚§ãƒ«ã‚’ç½®ãæ›ãˆã‚‹ã“ã¨ã§ã‚·ã‚§ãƒ«è¨­å®šãªã©ã®å†èª­ã¿è¾¼ã¿ã‚’å®Ÿç¾ã§ãã¾ã™ãŒã€å®Ÿéš›ã«ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ `$SHELL` ãŒå±•é–‹ã•ã‚Œã¦ `fish` ã‚³ãƒãƒ³ãƒ‰(`/opt/homebrew/bin/fish` ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ )ã«ã‚ˆã£ã¦ç¾åœ¨ã®ã‚·ã‚§ãƒ«ãƒ—ãƒ­ã‚»ã‚¹ãŒç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚

```shell
$ exec $SHELL -l
# ä¸Šã¨åŒç­‰
$ exec /opt/homebrew/bin/fish -l
```

:::message
å‚è€ƒ: ã¡ãªã¿ã«ã“ã‚Œã‚‰ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ã¯ zsh ã§ã¯ "Precommand Modifier" ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚
>A simple command may be preceded by a precommand modifier, which will alter how the command is interpreted. These modifiers are shell builtin commands with the exception of nocorrect which is a reserved word.

- [zsh manual: Precommand Modifiers](https://zsh.sourceforge.io/Doc/Release/Shell-Grammar.html#Precommand-Modifiers) ã‚ˆã‚Šå¼•ç”¨
:::

## ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ãƒ„ãƒ¼ãƒ«
å‚ç…§å…ƒ: [Tools to do a task](https://fishshell.com/docs/current/commands.html#tools-to-do-a-task)

ä»¥ä¸‹ã¯ã€å„ç¨®ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã®ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãŒæœ›ã‚€åŸºæœ¬çš„ãªã‚¿ã‚¹ã‚¯ã¯ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦é‚è¡Œã§ãã¾ã™ã€‚
å¤šããŒã€Œãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã€ã«å±ã—ã¾ã™ãŒã€ä¸­ã«ã¯ã€Œé–¢æ•°ã€ã§ã‚ã‚‹ã‚‚ã®ã‚‚å«ã¾ã‚Œã¾ã™ã€‚

ã“ã®ä¸­ã«ã¯ `cd` ã‚„ `echo` ãªã©ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§æ—¥å¸¸çš„ã«ä½¿ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã®å¤šããŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚å¾“ã£ã¦ã€fish ã‚’ä½¿ã„å§‹ã‚ã‚‹éš›ã«ã¯ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰è¦šãˆã¦ã„ãã®ãŒè‰¯ã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚

- ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¤‰æ›´: `cd`
- ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®ç”Ÿæˆ: `echo`, `printf`
- å¤‰æ•°ã®å®šç¾©ãƒ»æ¤œç´¢ãƒ»å‰Šé™¤: `set`
- å…¥åŠ›ã®èª­ã¿è¾¼ã¿: `read`
- æ–‡å­—åˆ—æ“ä½œ: `string`
- ç®—è¡“è¨ˆç®—: `math`
- å¼•æ•°ã®å‡¦ç†: `argparse`
- å¼•æ•°ã®æ•°ãˆä¸Šã’: `count`
- fish ãŒå‘¼ã³å‡ºã™ã‚‚ã®ã®ç¨®é¡ã‚’ç‰¹å®š: `type`
- æ¡ä»¶ã®æ¤œæŸ»: `test`
- ãƒªã‚¹ãƒˆå†…ã«æŒ‡å®šã—ãŸã‚¨ãƒ³ãƒˆãƒªãƒ¼ãŒå«ã¾ã‚Œã‚‹ã‹ç¢ºèª: `contains`
- ç•¥èªã®ç®¡ç†: `abbr`
- fish ã‚³ãƒ¼ãƒ‰ã‚’æ–‡å­—åˆ—ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å®Ÿè¡Œ: `eval`, `source`
- ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã®è‰²ã‚’å¤‰æ›´: `set_color`
- shell ã®æƒ…å ±ã‚’å–å¾—: `status`
- ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®å¤‰æ›´: `bind`
- ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®å†…å®¹ã®å–å¾—ãƒ»å¤‰æ›´: `commandline`
- fish ã®è¨­å®šã‚’å¤‰æ›´: `fish_config`
- ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å€¤ã‚’ç”Ÿæˆã¾ãŸã¯ãƒªã‚¹ãƒˆã‹ã‚‰é¸æŠ: `random`
- æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’é–²è¦§ã™ã‚‹: `man`, `help` 

ã€Œã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€ã®é …ç›®ã§ç´¹ä»‹ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã®é–¢æ•° `mytest` ã«ãŠã„ã¦ã‚‚ã€`echo` ã‚„ `test` ãªã©ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ãŒã€é–¢æ•°å†…ã®å®Ÿéš›ã®å…·ä½“çš„ã‚¿ã‚¹ã‚¯ã¯ã“ã‚Œã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚’çµ„ã¿åˆã‚ã›ã¦å®Ÿç¾ã—ã¾ã™ã€‚

```shell:Examples
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä¸€å€‹ä¸Šã«ç™»ã‚‹
$ cd ../
# æ–‡å­—åˆ—ã‚’å‡ºåŠ›
$ echo "test"
test
# å¤‰æ•°ã®å®šç¾©(ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚³ãƒ¼ãƒ—)
$ set -g MYVALUE value
# æ–‡å­—åˆ—ã®çµåˆ
$ string join "" $MYVALUE "_plus"
value_plus
# config.fish ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
$ source ~/.config/fish/config.fish
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ fish ã®è¨­å®šã‚’è¡Œã†
$ fish_config
# cd ã‚³ãƒãƒ³ãƒ‰ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã
$ help cd
```

:::message
å‚è€ƒ: zsh ã«ãŠã‘ã‚‹ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚³ãƒãƒ³ãƒ‰  

æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚’ã¿ã¦ã¿ã‚‹ã¨ `cd`, `echo`, `printf` `test` ãªã©åŒã˜åå‰ã®ã‚³ãƒãƒ³ãƒ‰ãŒå¤šãã‚ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
[zsh: 17 Shell Builtin Commands](https://zsh.sourceforge.io/Doc/Release/Shell-Builtin-Commands.html#Shell-Builtin-Commands)
:::

## ã‚·ã‚§ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç”¨é–¢æ•°
å‚ç…§å…ƒ: [Known functions](https://fishshell.com/docs/current/commands.html#known-functions)

ä»¥ä¸‹ã®ã‚‚ã®ã¯ fish shell ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã§ã€ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ fish ã®æŒ¯ã‚‹èˆã„ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚‚ã®ã¯ã™ã¹ã¦ã€Œé–¢æ•°ã€ã§ã™ã€‚

- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãƒ—ãƒªãƒ³ãƒˆ: `fish_prompt`, `fish_right_prompt`, `fish_mode_prompt`
- ã‚³ãƒãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®å¯¾å¿œã‚’å®šç¾©: `fish_command_not_found`
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´: `fish_title`
- fish èµ·å‹•æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹æŒ¨æ‹¶ã‚’å®šç¾©: `fish_greeting`

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®šç¾©ã•ã‚ŒãŸã‚‚ã®ãŒã‚ã‚Šã¾ã™ãŒã€è‡ªåˆ†ã§å†å®šç¾©ã—ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚ä¾‹ãˆã°ã€`fish_greeting` ã‚’ `~/.config/fish/` ã« `fish_greeting.fish` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ fish èµ·å‹•æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´ã§ãã¾ã™ã€‚

```shell:fish_greeting.fish
function fish_greeting
    # ã‚·ã‚§ãƒ«ã®é–‹å§‹ã®æŒ¨æ‹¶
    echo 'Welcom to fish shell' $version
end
```

```shell
# fish èµ·å‹•æ™‚ã¾ãŸã¯é–¢æ•°ã‚’ç›´æ¥å®Ÿè¡Œã—ãŸéš›ã«å‡ºåŠ›ã•ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
$ fish_greeting
Welcom to fish shell 3.4.0
```

ã“ã‚Œã‚‰ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç”¨é–¢æ•°ã¯ã„ãã‚‰ã‹å¿œç”¨çš„ãªä½¿ã„æ–¹ã‚’ã™ã‚‹ãŸã‚ã€ã¾ãšã¯ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ãƒ„ãƒ¼ãƒ«ã§ç´¹ä»‹ã—ãŸ `fish_config` é–¢æ•°ã‚’ä½¿ã£ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰è¨­å®šã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```shell
$ fish_config
# ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã„ã¦è¨­å®šå¤‰æ›´ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚‹
```

## è£œåŠ©é–¢æ•°
å‚ç…§å…ƒ: [Helper functions](https://fishshell.com/docs/current/commands.html#helper-functions)

ä»¥ä¸‹ã¯è£œåŠ©é–¢æ•°(helper function)ã¨ã—ã¦ fish ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚
ä¸»ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ä½¿ç”¨ã™ã‚‹ãŸã‚ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã‚‚ã®ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚ã™ã¹ã¦ã€Œé–¢æ•°ã€ã«å±ã—ã¾ã™ã€‚

- ç¾åœ¨ã® Git ã‚„ mercurial ãƒªãƒã‚¸ãƒˆãƒªã®æƒ…å ±ã‚’è¡¨ç¤º: `fish_git_prompt`, `fish_hg_prompt`
- ç¾åœ¨ã® VSC(ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ )ã®æƒ…å ±ã‚’è¡¨ç¤º:  `fish_vsc_print`
- ç¾åœ¨ã® SVN ãƒªãƒã‚¸ãƒˆãƒªã®æƒ…å ±ã‚’è¡¨ç¤º: `fish_svn_prompt`
- è¿”å´ã•ã‚ŒãŸã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‹ã‚‰ã‚·ã‚°ãƒŠãƒ«åã‚’ä¸ãˆã‚‹: `fish_status_to_signal`
- ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é©æ­£ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—çŸ­ç¸®åŒ–ã—ã¦è¡¨ç¤º: `prompt_pwd`, 
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒ›ã‚¹ãƒˆåã‚’ä½¿ç”¨ã—ã¦ç¾åœ¨ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚’è¨˜è¿°ã—ã€chroot ã«ã„ã‚‹ã‹ã€ssh çµŒç”±ã§æ¥ç¶šã—ã¦ã„ã‚‹ã‹ã‚’è¡¨ç¤º: `prompt_login`
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ä½¿ç”¨ã™ã‚‹çŸ­ç¸®ã•ã‚ŒãŸãƒ›ã‚¹ãƒˆåã‚’è¡¨ç¤º: `prompt_hostname`
- ã‚«ãƒ¬ãƒ³ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ root ã®ã‚ˆã†ãªç®¡ç†è€…ã‹ã©ã†ã‹ç¢ºèª: `fish_is_root_user`
- `$PATH` ã«ãƒ‘ã‚¹ã‚’è¿½åŠ ã™ã‚‹: `fish_add_path`
- ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã®å®šç¾©: `alias`

ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ãƒ‘ã‚¹ã‚’é€šã—ã¾ã™ã€‚

```shell:ãƒ‘ã‚¹ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰é€šã™
$ fish_add_path /opt/homebrew/bin
```

ãƒ‘ã‚¹ã®é€šã—æ–¹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¤ã„ã¦ã¯æ¬¡ã®è¨˜äº‹ã§ã‹ãªã‚Šè©³ã—ãç´¹ä»‹ã—ãŸã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„(ã“ã®è©±é¡Œã«ã¤ã„ã¦ã¯ä¸–ç•Œä¸€è©³ã—ãæ›¸ã„ãŸè‡ªä¿¡ãŒã‚ã‚Šã¾ã™ç¬‘)ã€‚

https://zenn.dev/estra/articles/zenn-fish-add-path-final-answer

è£œåŠ©é–¢æ•°(helper function)ã«ã¤ã„ã¦ã¯ã€ä¸Šã§ç´¹ä»‹ã—ãŸã‚‚ã®ä»¥å¤–ã«ã‚‚å¤šãå­˜åœ¨ã—ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç›´æ¥ä½¿ç”¨ã—ãªã„ã‚ˆã†ãªã‚‚ã®ã‚„ã€ã€Œè£œå®Œã‚¹ã‚¯ãƒªãƒ—ãƒˆã€ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹é–¢æ•°ãªã©ã‚‚ã‚ã‚Šã¾ã™ã€‚

ã™ã¹ã¦ã®ã€Œé–¢æ•°ã€ã¯ `fish_function_path` ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚

```shell
$ printf '%s\n' $fish_function_path
/Users/roshi/.config/fish/functions
/opt/homebrew/Cellar/fish/3.4.0/etc/fish/functions
/opt/homebrew/Cellar/fish/3.4.0/share/fish/vendor_functions.d
/opt/homebrew/share/fish/vendor_functions.d
/opt/homebrew/Cellar/fish/3.4.0/share/fish/functions
```

fish ãŒæä¾›ã—ã¦ã„ã‚‹é–¢æ•°ã¯ç’°å¢ƒã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€M1 mac ã§ Homebrew ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹å ´åˆã¯ `/opt/homebrew/Cellar/fish/3.4.0/share/fish/functions` ã«é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ä¸­ã‚’è¦—ã‘ã°ã™ã¹ã¦ã®é–¢æ•°ã‚’é–²è¦§ã§ãã¾ã™ã€‚

```shell
$ ls /opt/homebrew/Cellar/fish/3.4.0/share/fish/functions

N_.fish
__fish_abbr_old.fish
__fish_any_arg_in.fish
__fish_anypython.fish
__fish_append.fish
__fish_apropos.fish
__fish_argcomplete_complete.fish
# é•·ã„ã®ã§çœç•¥
```

## è£œåŠ©å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰
å‚ç…§å…ƒ: [Helper commands](https://fishshell.com/docs/current/commands.html#helper-commands)

ã©ã“ã‹ã‚‰ã§ã‚‚ç°¡å˜ã«å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã€Œå¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒï¼’ã¤ã‚ã‚Šã¾ã™ã€‚

- fish code ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹: `fish_indent`
- ã‚­ãƒ¼å…¥åŠ›ãŒç”Ÿæˆã™ã‚‹ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¡¨ç¤º: `fish_key_reader`

M1 mac ã§ Homebrew ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚‹å ´åˆã«ã¯æ¬¡ã®ã‚ˆã†ãªå ´æ‰€ã«é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚

```shell
$ exa --tree --level=2 -a --classify /opt/homebrew/Cellar/fish/3.4.0/
/opt/homebrew/Cellar/fish/3.4.0/
â”œâ”€â”€ .brew/
â”‚  â””â”€â”€ fish.rb
â”œâ”€â”€ bin/
â”‚  â”œâ”€â”€ fish* # fish å®Ÿä½“
â”‚  â”œâ”€â”€ fish_indent* # æä¾›ã•ã‚Œã¦ã„ã‚‹å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ (1)
â”‚  â””â”€â”€ fish_key_reader* # æä¾›ã•ã‚Œã¦ã„ã‚‹å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ (2)
â”œâ”€â”€ CHANGELOG.rst
â”œâ”€â”€ COPYING
â”œâ”€â”€ etc/
â”‚  â””â”€â”€ fish/
â”œâ”€â”€ INSTALL_RECEIPT.json
â”œâ”€â”€ README.rst
â””â”€â”€ share/
   â”œâ”€â”€ doc/
   â”œâ”€â”€ fish/
   â”œâ”€â”€ man/
   â””â”€â”€ pkgconfig/
```

# ã‚³ãƒãƒ³ãƒ‰ã®èª¿ã¹æ–¹ã¨è¦šãˆæ–¹
ä»¥ä¸Šã®ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹ã‚’ä¸€æ°—ã«è¦šãˆã‚‹ã“ã¨ã¯ã§ããªã„ãŸã‚ã€ç›®ã«ã¤ã„ãŸã‚‚ã®ã‚’ãã®æ™‚ã€…èª¿ã¹ãŸã‚Šã€ã‚„ã‚ŠãŸã„ã“ã¨ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰ã‚’æ¢ã—ã¦ã„ãã®ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™ã€‚

ã¾ãŸã€ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹ã‚’èª¿ã¹ã‚‹éš›ã®æ–¹æ³•ã‚‚ç´¹ä»‹ã—ã¦ãŠãã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ç­‰ã‚’ä½¿ç”¨ã—ã¦èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- `man`, `help`
- `type`
- `functions`, `bultin`, `command`

åŸºæœ¬çš„ã«ã¯ `man` ã¨ `help` ã‚³ãƒãƒ³ãƒ‰ã‚’èª¿ã¹ãŸã„ã‚³ãƒãƒ³ãƒ‰ã®é ­ã«ã¤ã‘ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ç¢ºèªã§ãã¾ã™ã€‚`man` ã¯ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»é–¢æ•°ãƒ»å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦å­˜åœ¨ã™ã‚‹ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’è¡¨ç¤ºã—ã€`help` ã¯ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»é–¢æ•°ã«ã¤ã„ã¦ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚

```shell
$ man cd
# CLIã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å‡ºåŠ›
$ help cd
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å‡ºåŠ›
```

å®Ÿéš›ã«ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚‚ã®ãŒé–¢æ•°ãƒ»ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ãªã®ã‹ã‚’èª¿ã¹ã‚‹ã«ã¯ `type` ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æŒ‡å®šã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒé–¢æ•°ã§ã‚ã‚‹å ´åˆã¯ã€å®šç¾©å ´æ‰€ã¨å®šç¾©å†…å®¹ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

```shell
# man ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ã‚‹
$ type man
man is a function with definition
# Defined in /opt/homebrew/Cellar/fish/3.4.0/share/fish/functions/man.fish @ line 6
function man --description 'Format and display the on-line manual pages'
    # Work around the "builtin" manpage that everything symlinks to,
    # by prepending our fish datadir to man. This also ensures that man gives fish's
    # man pages priority, without having to put fish's bin directories first in $PATH.

    # Preserve the existing MANPATH, and default to the system path (the empty string).
    set -l manpath
    if set -q MANPATH
        set manpath $MANPATH
    else if set -l p (command man -p 2>/dev/null)
        # NetBSD's man uses "-p" to print the path.
        # FreeBSD's man also has a "-p" option, but that requires an argument.
        # Other mans (men?) don't seem to have it.
        #
        # Unfortunately NetBSD prints things like "/usr/share/man/man1",
        # while not allowing them as $MANPATH components.
        # What it needs is just "/usr/share/man".
        #
        # So we strip the last component.
        # This leaves a few wrong directories, but that should be harmless.
        set manpath (string replace -r '[^/]+$' '' $p)
    else
        set manpath ''
    end
    # Notice the shadowing local exported copy of the variable.
    set -lx MANPATH $manpath

    # Prepend fish's man directory if available.
    set -l fish_manpath $__fish_data_dir/man
    if test -d $fish_manpath
        set MANPATH $fish_manpath $MANPATH
    end

    command man $argv
end
```

`type` ã«ã¯è‰²ã€…ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚æŒ‡å®šã—ãŸåå‰ã®ã™ã¹ã¦ã®å®šç¾©ã‚’è¡¨ç¤ºã™ã‚‹ `-a` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„é–¢æ•°å®šç¾©ãªã©ã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã«ã™ã‚‹ `-s` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½µç”¨ã—ãŸã‚Šã€`-t` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ç¨®é¡ã ã‘ã‚’è¡¨ç¤ºã•ã›ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```shell
# ã™ã¹ã¦ã®å®šç¾©ç¨®é¡ã‚’è¡¨ç¤º
$ type -sa cd
cd is a function (defined in /Users/roshi/.config/fish/functions/cd.fish)
cd is a builtin
cd is /usr/bin/cd
# å®Ÿéš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚‚ã®ã®ç¨®é¡
$ type -t cd
function
```

`functions` ã‚„ `buitin`ã€`command` ãªã©ã‚’ä½¿ç”¨ã—ã¦ãã‚Œãã‚Œã®ç¨®é¡ã®ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦èª¿ã¹ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

```shell
# å®šç¾©æ¸ˆã¿é–¢æ•°ã‚’è¡¨ç¤º: ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã‹ã‚‰å§‹ã¾ã‚‹ã‚„ã¤ã¯è¡¨ç¤ºã—ãªã„ (çœç•¥)
$ functions -n
# ã™ã¹ã¦ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º(çœç•¥)
$ builtin -n
# PATH å†…ã®ã™ã¹ã¦ã® python3 ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º
$ command -a python3
/opt/homebrew/bin/python3
/usr/bin/python3
```

## æ¬¡ã«ã‚„ã£ã¦ã¿ã‚‹ã“ã¨
ã€Œfish ã‚³ãƒãƒ³ãƒ‰ã®æ©Ÿèƒ½çš„ãªåˆ†é¡ã€ã«ã¤ã„ã¦è§£èª¬ã—ã¦ãã¾ã—ãŸãŒã€ã‚¿ã‚¹ã‚¯å®Ÿè¡Œç”¨ãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã®ã„ãã¤ã‹ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã€æ¬¡ã¯ãã‚Œã‚‰ã¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ç´¹ä»‹ã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã€Œé–¢æ•°ã€ã‚’ä½œæˆã—ã¦ã¿ã‚‹ã¨ä½¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ãã¾ã™ã€‚

ã¾ãŸã€fish ã§ã¯ã€Œãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ã‚’ä½œæˆã§ãã¾ã™ãŒã€ã¤ãã‚Šæ–¹ã¯ã€Œé–¢æ•°ã€ã¨åŒã˜è¦é ˜ã§ã€å˜ç´”ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ Github ã§å…¬é–‹ã—ã¦ `fisher` ãªã©ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ä½“è£ã‚’æ•´ãˆã‚‹ã ã‘ã§ã™ã€‚

æ‰‹å‰å‘³å™Œã§ã™ãŒã€ã“ã®è¨˜äº‹ã®é€”ä¸­ã§ç´¹ä»‹ã—ã¦ããŸ fish ã«é–¢ã™ã‚‹è¨˜äº‹ã‚’è¿½ã£ã¦ã„ãã¨ã‚³ãƒãƒ³ãƒ‰ã®ç†è§£ãŒãã£ã¨é«˜ã¾ã‚‹ã¨æ€ã„ã¾ã™ã®ã§ã€æ˜¯éå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨åˆã‚ã›ã¦èª­ã‚“ã§ã€é–¢æ•°ãªã©ã‚’å®Ÿéš›ã«ä½œã£ã¦ã¿ã¦ãã ã•ã„ğŸ‘

- (1)ã€Œé–¢æ•°ã‚’ä½œæˆã—ã¦ã¿ã‚‹ã€
    - [fish shellã‹ã‚‰googleæ¤œç´¢ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œã£ã¦ã¿ãŸ](https://zenn.dev/estra/articles/google-search-from-fish-shell)
- (2)ã€Œãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œæˆã—ã¦ã¿ã‚‹ã€
    - [fish shellã§ä¸€æ°—ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’sourceã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œã£ã¦ã¿ãŸ](https://zenn.dev/estra/articles/zenn-source-fish-plugin)
    - [fish shellãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®é–‹ç™ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œã£ã¦ã¿ãŸ](https://zenn.dev/estra/articles/zenn-fish-plugin-template)
- (3)ã€Œé–¢æ•°ãƒ»ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã‚’ç†è§£ã™ã‚‹ã€
    - [fish shellã«ãŠã‘ã‚‹é–¢æ•°ãƒ»ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ»å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿä½“](https://zenn.dev/estra/articles/zenn-what-is-command)
- (4)ã€Œå¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã®æŒ™å‹•ã‚’åˆ¶å¾¡ã™ã‚‹ã€
    - [fishã®argparseã§æœªå®šç¾©ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é€éã•ã›ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã®ä½œæˆ](https://zenn.dev/estra/articles/zenn-fish-shell-argparse-unknown-options)
    - [fishã®VAR=VALã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã§Denoã®ç’°å¢ƒå¤‰æ•° NO_COLOR ã‚’ä¸Šæ›¸ãã™ã‚‹](https://zenn.dev/estra/articles/deno-no-color-fish-override-variable)
- (5)ã€Œã‚¹ã‚³ãƒ¼ãƒ—ãƒ«ãƒ¼ãƒ«ã¨ç’°å¢ƒå¤‰æ•°ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹ã€
    - [fishã§ã€Œãƒ‘ã‚¹ã‚’é€šã™ã€ãŸã‚ã®æœ€çµ‚è§£ç­”](https://zenn.dev/estra/articles/zenn-fish-add-path-final-answer)

